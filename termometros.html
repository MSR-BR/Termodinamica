<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora de Escalas de Temperatura: Celsius, Fahrenheit, Kelvin</title>
  <style>
    :root{
      --bg:#0f172a;            /* slate-900 */
      --panel:#111827;         /* gray-900 */
      --muted:#94a3b8;         /* slate-400 */
      --text:#e5e7eb;          /* gray-200 */
      --glass:rgba(255,255,255,0.08);
      --blue:#3b82f6;          /* frio */
      --red:#ef4444;           /* quente */
      --ok:#22c55e;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 1200px at 20% -10%, #1f2937 0%, #0b1220 50%, #070b14 100%);
      color:var(--text);
      min-height:100svh; display:flex; flex-direction:column; gap:18px;
    }
    header{ padding:22px 20px 0; text-align:center}
    header h1{ margin:0 0 6px; font-weight:700; letter-spacing:.2px }
    header p{ margin:0; color:var(--muted); font-size:14px }

    .about{ width:min(1080px,95%); margin:0 auto; background:var(--panel); border:1px solid rgba(255,255,255,.06); border-radius:14px; padding:14px 16px; box-shadow:0 10px 30px rgba(0,0,0,.35)}
    .about p{ margin:.2rem 0; line-height:1.35 }
    .about a{ color:#93c5fd; text-decoration:underline }

    .app{ width:min(1100px, 95%); margin:0 auto 28px; display:flex; flex-direction:column; gap:14px }

    .row{ display:flex; align-items:center; gap:18px; background:var(--panel); border:1px solid rgba(255,255,255,.06); border-radius:16px; padding:14px 16px; box-shadow:0 10px 30px rgba(0,0,0,.35) }
    .label{ width:130px; font-weight:700 }

    /* Slider (horizontal) */
    .slider-wrap{ flex:1; display:flex; flex-direction:column; gap:6px }
    input[type="range"]{ -webkit-appearance:none; appearance:none; width:100%; height:12px; border-radius:999px; background:linear-gradient(90deg, var(--blue), var(--red)); outline:none; border:1px solid rgba(255,255,255,.08)}
    input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:22px; height:22px; border-radius:50%; background:#fff; border:3px solid #0ea5e9; box-shadow:0 4px 12px rgba(14,165,233,.5) }
    input[type="range"]::-moz-range-thumb{ width:22px; height:22px; border:none; border-radius:50%; background:#fff; box-shadow:0 4px 12px rgba(14,165,233,.5) }

    .val{ font-variant-numeric:tabular-nums; font-weight:700; padding:4px 8px; border-radius:8px; background:var(--glass); display:inline-block }
    .hint{ font-size:12px; color:var(--muted) }

    /* Gauge (mostrador analógico) */
    .gauge{ width:140px; height:140px; position:relative }
    .gauge svg{ width:140px; height:140px; display:block }
    .gauge .center-text{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-weight:800; font-variant-numeric:tabular-nums }
    .gauge .unit{ position:absolute; bottom:10px; width:100%; text-align:center; font-size:12px; color:var(--muted) }

    @media (max-width: 720px){
      .row{ flex-direction:column; align-items:stretch }
      .label{ width:auto }
      .gauge{ align-self:center }
    }
  </style>
</head>
<body>
  <header>
    <h1>Sliders sincronizados: °C, °F e K</h1>
    <p>Intervalo de cálculo: <strong>−20 °C a 120 °C</strong> (equivalente a −4 °F a 248 °F, 253.15 K a 393.15 K). Os mostradores analógicos indicam o valor nas diferentes escalas.</p>
  </header>

  <div class="about">
    <p><strong>Como usar:</strong> Arraste um dos três controles deslizantes (Celsius, Fahrenheit ou Kelvin). Os demais se atualizam automaticamente. Ao lado de cada controle há um mostrador analógico.</p>
    <p><small>Desenvolvido por <strong>Mario Reis</strong> – Instituto de Física, Universidade Federal Fluminense (UFF) · <a href="mailto:marioreis@id.uff.br">marioreis@id.uff.br</a> · <a href="https://profmarioreis.wordpress.com" target="_blank" rel="noopener">profmarioreis.wordpress.com</a><br/>Versão 1.0 – 26 de julho de 2025</small></p>
  </div>

  <main class="app" aria-live="polite">
    <!-- Celsius row -->
    <section class="row" id="rowC">
      <div class="label">Celsius (°C)</div>
      <div class="slider-wrap">
        <input id="sliderC" type="range" min="-20" max="120" step="0.1" value="25" aria-label="Celsius" />
        <div>
          <span class="val" id="valC">25.0 °C</span>
          <span class="hint">Intervalo: −20 a 120 °C</span>
        </div>
      </div>
      <div class="gauge">
        <svg viewBox="0 0 100 100" id="gaugeC" aria-hidden="true">
          <!-- arco de fundo -->
          <path d="M15,65 A40,40 0 1 1 85,65" fill="none" stroke="#334155" stroke-width="10" stroke-linecap="round"/>
          <!-- arco de gradiente -->
          <defs>
            <linearGradient id="gradC" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="var(--blue)"/>
              <stop offset="100%" stop-color="var(--red)"/>
            </linearGradient>
          </defs>
          <path d="M15,65 A40,40 0 1 1 85,65" fill="none" stroke="url(#gradC)" stroke-width="6"/>
          <!-- ponteiro -->
          <g id="needleC" transform="rotate(0 50 65)">
            <line x1="50" y1="65" x2="50" y2="25" stroke="#e5e7eb" stroke-width="3" stroke-linecap="round"/>
            <circle cx="50" cy="65" r="4" fill="#e5e7eb"/>
          </g>
        </svg>
        <div class="center-text" id="centerC">25.0 °C</div>
        <div class="unit">−20 °C ⟶ 120 °C</div>
      </div>
    </section>

    <!-- Fahrenheit row -->
    <section class="row" id="rowF">
      <div class="label">Fahrenheit (°F)</div>
      <div class="slider-wrap">
        <input id="sliderF" type="range" min="-4" max="248" step="0.1" value="77" aria-label="Fahrenheit" />
        <div>
          <span class="val" id="valF">77.0 °F</span>
          <span class="hint">Equivalente: −4 a 248 °F</span>
        </div>
      </div>
      <div class="gauge">
        <svg viewBox="0 0 100 100" id="gaugeF" aria-hidden="true">
          <path d="M15,65 A40,40 0 1 1 85,65" fill="none" stroke="#334155" stroke-width="10" stroke-linecap="round"/>
          <defs>
            <linearGradient id="gradF" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="var(--blue)"/>
              <stop offset="100%" stop-color="var(--red)"/>
            </linearGradient>
          </defs>
          <path d="M15,65 A40,40 0 1 1 85,65" fill="none" stroke="url(#gradF)" stroke-width="6"/>
          <g id="needleF" transform="rotate(0 50 65)">
            <line x1="50" y1="65" x2="50" y2="25" stroke="#e5e7eb" stroke-width="3" stroke-linecap="round"/>
            <circle cx="50" cy="65" r="4" fill="#e5e7eb"/>
          </g>
        </svg>
        <div class="center-text" id="centerF">77.0 °F</div>
        <div class="unit">−4 °F ⟶ 248 °F</div>
      </div>
    </section>

    <!-- Kelvin row -->
    <section class="row" id="rowK">
      <div class="label">Kelvin (K)</div>
      <div class="slider-wrap">
        <input id="sliderK" type="range" min="253.15" max="393.15" step="0.01" value="298.15" aria-label="Kelvin" />
        <div>
          <span class="val" id="valK">298.15 K</span>
          <span class="hint">Equivalente: 253.15 a 393.15 K</span>
        </div>
      </div>
      <div class="gauge">
        <svg viewBox="0 0 100 100" id="gaugeK" aria-hidden="true">
          <path d="M15,65 A40,40 0 1 1 85,65" fill="none" stroke="#334155" stroke-width="10" stroke-linecap="round"/>
          <defs>
            <linearGradient id="gradK" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="var(--blue)"/>
              <stop offset="100%" stop-color="var(--red)"/>
            </linearGradient>
          </defs>
          <path d="M15,65 A40,40 0 1 1 85,65" fill="none" stroke="url(#gradK)" stroke-width="6"/>
          <g id="needleK" transform="rotate(0 50 65)">
            <line x1="50" y1="65" x2="50" y2="25" stroke="#e5e7eb" stroke-width="3" stroke-linecap="round"/>
            <circle cx="50" cy="65" r="4" fill="#e5e7eb"/>
          </g>
        </svg>
        <div class="center-text" id="centerK">298.15 K</div>
        <div class="unit">253.15 K ⟶ 393.15 K</div>
      </div>
    </section>
  </main>

  <script>
    // Conversões básicas
    const c2f = C => C * 9/5 + 32;
    const f2c = F => (F - 32) * 5/9;
    const c2k = C => C + 273.15;
    const k2c = K => K - 273.15;

    // Limites (equivalentes a −20 a 120 °C)
    const LIM = {
      C:{min:-20, max:120},
      F:{min:-4, max:248},
      K:{min:253.15, max:393.15}
    };

    // Elementos
    const sC = document.getElementById('sliderC');
    const sF = document.getElementById('sliderF');
    const sK = document.getElementById('sliderK');

    const vC = document.getElementById('valC');
    const vF = document.getElementById('valF');
    const vK = document.getElementById('valK');

    const centerC = document.getElementById('centerC');
    const centerF = document.getElementById('centerF');
    const centerK = document.getElementById('centerK');

    const needleC = document.getElementById('needleC');
    const needleF = document.getElementById('needleF');
    const needleK = document.getElementById('needleK');

    // Mapeia valor para ângulo do ponteiro (arco de 240°, -120° a +120°)
    function angle(val, min, max){
      const t = Math.max(0, Math.min(1, (val - min)/(max - min)));
      return -120 + 240*t;
    }

    function fmt(n, unit, digits=1){
      const v = Math.abs(n) < 1e-9 ? 0 : n;
      return `${v.toFixed(digits)} ${unit}`;
    }

    function updateFromC(C){
      // Restringe ao intervalo
      const c = Math.min(LIM.C.max, Math.max(LIM.C.min, C));
      const f = c2f(c);
      const k = c2k(c);

      // Sliders
      sC.value = c.toFixed(1);
      sF.value = f.toFixed(1);
      sK.value = k.toFixed(2);

      // Caixas
      vC.textContent = fmt(c, '°C');
      vF.textContent = fmt(f, '°F');
      vK.textContent = fmt(k, 'K', 2);

      // Centro dos mostradores
      centerC.textContent = fmt(c, '°C');
      centerF.textContent = fmt(f, '°F');
      centerK.textContent = fmt(k, 'K', 2);

      // Ponteiros
      needleC.setAttribute('transform', `rotate(${angle(c, LIM.C.min, LIM.C.max)} 50 65)`);
      needleF.setAttribute('transform', `rotate(${angle(f, LIM.F.min, LIM.F.max)} 50 65)`);
      needleK.setAttribute('transform', `rotate(${angle(k, LIM.K.min, LIM.K.max)} 50 65)`);
    }

    // Listeners (mantêm sincronizados)
    sC.addEventListener('input', ()=> updateFromC(parseFloat(sC.value)) );
    sF.addEventListener('input', ()=> updateFromC(f2c(parseFloat(sF.value))) );
    sK.addEventListener('input', ()=> updateFromC(k2c(parseFloat(sK.value))) );

    // Inicializa
    updateFromC(parseFloat(sC.value));
  </script>
</body>
</html>
